<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>K8s on Aiman Ismail</title><link>https://pokgak.xyz/tags/k8s/</link><description>Recent content in K8s on Aiman Ismail</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Sat, 14 Dec 2024 17:23:06 +0800</lastBuildDate><atom:link href="https://pokgak.xyz/tags/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>Eliminating cross-AZ traffic cost on AWS</title><link>https://pokgak.xyz/articles/eliminating-cross-az-traffic-cost/</link><pubDate>Sat, 14 Dec 2024 17:23:06 +0800</pubDate><guid>https://pokgak.xyz/articles/eliminating-cross-az-traffic-cost/</guid><description>&lt;p>Imagine going through your AWS bills and noticing that &lt;strong>APS1-DataTransfer-Regional-Bytes&lt;/strong> is 1/3 of your monthly AWS cost. After reading a bit more on &lt;a href="https://docs.aws.amazon.com/cur/latest/userguide/cur-data-transfers-charges.html">how AWS charges for network traffic&lt;/a> you know that this is referring to the cost incurred when your traffic crosses an availability zone (AZ). This article will go through what you can do to eliminate this cross-AZ traffic cost.&lt;/p>
&lt;p>&lt;strong>Disclaimer&lt;/strong>: this is not necessarily the best practice. I try my best to highlight the caveat and tradeoff you&amp;rsquo;re making in this article but please make your own judgement before making the changes.&lt;/p></description></item><item><title>Using DuckDB to analyze NGINX logs</title><link>https://pokgak.xyz/articles/duckdb-nginx-logs/</link><pubDate>Sun, 27 Oct 2024 18:15:00 +0800</pubDate><guid>https://pokgak.xyz/articles/duckdb-nginx-logs/</guid><description>&lt;p>As part of my recent &lt;a href="https://pokgak.xyz/articles/we-got-ddosed/">DDoS mitigation effort&lt;/a>, I had to go through millions of nginx logs to identify patterns that I can use to further improve our custom WAF rules on Cloudflare. This article shows what I did to be able to run some analysis on the logs using DuckDB.&lt;/p>
&lt;h2 id="making-the-hard-things-easy">
 &lt;a href="#making-the-hard-things-easy" class="anchor">
 &lt;svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
 &lt;path fill-rule="evenodd"
 d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
 &lt;/path>
 &lt;/svg>
 &lt;/a>
 Making the hard things easy
&lt;/h2>
&lt;h3 id="changing-the-log-format">
 &lt;a href="#changing-the-log-format" class="anchor">
 &lt;svg class="icon" aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16">
 &lt;path fill-rule="evenodd"
 d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z">
 &lt;/path>
 &lt;/svg>
 &lt;/a>
 Changing the log format
&lt;/h3>
&lt;blockquote>
&lt;p>&amp;ldquo;To solve a problem that is difficult, you must first make it easy.&amp;rdquo;&lt;/p></description></item></channel></rss>